(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2355:function(e,t,a){Promise.resolve().then(a.bind(a,533))},533:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(7437),n=a(2265),l=a(9186),s=a(9842);let i={tech:{name:"テクノロジー",emoji:"\uD83D\uDCBB"},business:{name:"ビジネス",emoji:"\uD83D\uDCBC"},lifestyle:{name:"ライフスタイル",emoji:"\uD83C\uDF31"},entertainment:{name:"エンタメ",emoji:"\uD83C\uDFAD"},education:{name:"教育",emoji:"\uD83D\uDCDA"},news:{name:"ニュース",emoji:"\uD83D\uDCF0"},health:{name:"健康",emoji:"\uD83D\uDCAA"}};function d(e){var t,a,l;let{episode:s}=e,[d,o]=(0,n.useState)(!1),[m,c]=(0,n.useState)(0),[x,u]=(0,n.useState)(0),h=(0,n.useRef)(null);if((0,n.useEffect)(()=>{s&&h.current&&(h.current.src=s.audio_url,h.current.play().then(()=>o(!0)).catch(e=>console.error("Audio play failed",e)))},[s]),(0,n.useEffect)(()=>{let e=h.current;if(!e)return;let t=()=>{e.duration>0&&c(e.currentTime/e.duration*100)},a=()=>u(e.duration);return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",a),e.addEventListener("ended",()=>o(!1)),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",a),e.removeEventListener("ended",()=>o(!1))}},[]),!s)return(0,r.jsxs)("section",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 md:p-10 mb-10 shadow-2xl text-center sticky top-5",children:[(0,r.jsx)("div",{className:"inline-block bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 md:px-6 py-2 rounded-full text-sm font-semibold mb-6",children:"✨ VoiceCast Player"}),(0,r.jsx)("p",{className:"text-gray-600",children:"再生するエピソードを選択してください。"})]});let p=(l=null!==(a=s.genre)&&void 0!==a?a:null)&&i[l]?i[l]:{name:"その他",emoji:"\uD83C\uDFA7"},b=e=>isNaN(e)||0===e?"00:00":"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0"));return(0,r.jsxs)("section",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 md:p-10 mb-10 shadow-2xl text-center sticky top-5",children:[(0,r.jsx)("audio",{ref:h}),(0,r.jsx)("div",{className:"inline-block bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 md:px-6 py-2 rounded-full text-sm font-semibold mb-6",children:"✨ 現在再生中"}),(0,r.jsx)("div",{className:"w-32 h-32 md:w-48 md:h-48 mx-auto mb-6 md:mb-8 rounded-3xl bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 flex items-center justify-center text-4xl md:text-6xl text-white shadow-2xl",children:p.emoji}),(0,r.jsx)("h2",{className:"text-xl md:text-3xl font-bold text-gray-800 mb-3 leading-tight px-4",children:s.title}),(0,r.jsxs)("p",{className:"text-lg md:text-xl text-gray-600 mb-6",children:["配信者: ",s.user_id||"不明"]}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4 md:gap-6 mb-6 md:mb-8",children:[(0,r.jsx)("button",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full border-2 border-gray-300 bg-white text-gray-600 text-lg md:text-xl hover:border-pink-400 hover:text-pink-400 transition-all duration-300 hover:scale-110","aria-label":"前のエピソード",children:"⏮"}),(0,r.jsx)("button",{onClick:()=>{h.current&&(d?h.current.pause():h.current.play(),o(!d))},className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white text-xl md:text-2xl shadow-xl hover:scale-110 transition-all duration-300","aria-label":d?"一時停止":"再生",children:d?"⏸":"▶"}),(0,r.jsx)("button",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full border-2 border-gray-300 bg-white text-gray-600 text-lg md:text-xl hover:border-pink-400 hover:text-pink-400 transition-all duration-300 hover:scale-110","aria-label":"次のエピソード",children:"⏭"})]}),(0,r.jsxs)("div",{className:"max-w-md mx-auto px-4",children:[(0,r.jsx)("div",{onClick:e=>{if(h.current&&x>0){let t=e.currentTarget.getBoundingClientRect(),a=(e.clientX-t.left)/t.width*x;h.current.currentTime=a}},className:"h-2 bg-gray-200 rounded-full cursor-pointer",role:"slider","aria-label":"再生位置","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":m,children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 rounded-full transition-all duration-300",style:{width:"".concat(m,"%")}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs md:text-sm text-gray-500 mt-2",children:[(0,r.jsx)("span",{children:b((null===(t=h.current)||void 0===t?void 0:t.currentTime)||0)}),(0,r.jsx)("span",{children:b(x)})]})]})]})}let o={tech:{name:"テクノロジー",emoji:"\uD83D\uDCBB"},business:{name:"ビジネス",emoji:"\uD83D\uDCBC"},lifestyle:{name:"ライフスタイル",emoji:"\uD83C\uDF31"},entertainment:{name:"エンタメ",emoji:"\uD83C\uDFAD"},education:{name:"教育",emoji:"\uD83D\uDCDA"},news:{name:"ニュース",emoji:"\uD83D\uDCF0"},health:{name:"健康",emoji:"\uD83D\uDCAA"}};function m(e){var t,a;let{episode:n,onPlay:l}=e,s=(a=null!==(t=n.genre)&&void 0!==t?t:null)&&o[a]?o[a]:{name:"その他",emoji:"\uD83C\uDFA7"};return(0,r.jsxs)("article",{className:"bg-white rounded-2xl p-4 md:p-6 shadow-lg cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-2 border-2 border-transparent hover:border-pink-200",onClick:()=>l(n),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 md:gap-4 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-2xl bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 flex items-center justify-center text-lg md:text-2xl text-white flex-shrink-0",children:s.emoji}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 text-base md:text-lg leading-tight mb-1 line-clamp-2",children:n.title}),(0,r.jsxs)("p",{className:"text-gray-500 text-xs md:text-sm",children:["配信者: ",n.user_id||"不明"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-3 mb-4 text-xs md:text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:(e=>{let t=e.toDate(),a=Math.floor(Math.abs(new Date().getTime()-t.getTime())/864e5);return 0===a?"今日":1===a?"昨日":a<7?"".concat(a,"日前"):a<30?"".concat(Math.floor(a/7),"週間前"):"".concat(Math.floor(a/30),"ヶ月前")})(n.createdAt)}),(0,r.jsx)("span",{className:"text-pink-500 font-medium",children:"⏱️ 音声ファイル"}),(0,r.jsx)("span",{className:"bg-pink-100 text-pink-600 px-2 md:px-3 py-1 rounded-full text-xs font-medium",children:s.name})]}),n.description&&(0,r.jsx)("p",{className:"text-gray-600 text-xs md:text-sm leading-relaxed mb-4 line-clamp-2",children:n.description}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),l(n)},className:"w-10 h-10 md:w-11 md:h-11 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 text-white text-base md:text-lg hover:scale-110 transition-all duration-300 shadow-lg","aria-label":"再生",children:"▶"}),(0,r.jsxs)("div",{className:"flex gap-3 md:gap-4 text-xs text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{children:"\uD83D\uDC65"}),(0,r.jsx)("span",{children:"--"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{children:"❤️"}),(0,r.jsx)("span",{children:"--"})]})]})]})]})}let c=[{id:"all",name:"すべて",emoji:"\uD83C\uDF1F"},{id:"tech",name:"テクノロジー",emoji:"\uD83D\uDCBB"},{id:"business",name:"ビジネス",emoji:"\uD83D\uDCBC"},{id:"lifestyle",name:"ライフスタイル",emoji:"\uD83C\uDF31"},{id:"entertainment",name:"エンタメ",emoji:"\uD83C\uDFAD"},{id:"education",name:"教育",emoji:"\uD83D\uDCDA"},{id:"news",name:"ニュース",emoji:"\uD83D\uDCF0"},{id:"health",name:"健康",emoji:"\uD83D\uDCAA"}];function x(e){let{onGenreChange:t}=e,[a,l]=(0,n.useState)("all"),s=e=>{l(e),t(e)};return(0,r.jsxs)("section",{className:"bg-white/95 backdrop-blur-xl rounded-2xl p-4 md:p-6 mb-8 shadow-xl",children:[(0,r.jsx)("div",{className:"mb-4 md:mb-5",children:(0,r.jsx)("h3",{className:"text-base md:text-lg font-semibold text-gray-800",children:"\uD83C\uDFAF ジャンルから探す"})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center md:justify-start",children:c.map(e=>(0,r.jsxs)("button",{onClick:()=>s(e.id),className:"\n              px-3 py-2 md:px-6 md:py-3 rounded-full font-medium transition-all duration-300 \n              border-2 flex items-center gap-2 hover:scale-105 hover:shadow-lg\n              text-xs md:text-sm\n              ".concat(a===e.id?"bg-gradient-to-r from-pink-500 to-purple-500 text-white border-transparent shadow-lg":"bg-white text-gray-600 border-gray-200 hover:border-pink-300","\n            "),"aria-pressed":a===e.id,"aria-label":"".concat(e.name,"ジャンルを選択"),children:[(0,r.jsx)("span",{className:"text-sm md:text-lg",children:e.emoji}),(0,r.jsx)("span",{children:e.name})]},e.id))})]})}function u(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),[p,b]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=(0,s.IO)((0,s.hJ)(l.db,"episodes"),(0,s.Xo)("createdAt","desc")),a=(await (0,s.PL)(e)).docs.map(e=>({id:e.id,...e.data()}));t(a),i(a),a.length>0&&c(a[0])}catch(e){console.error("Error fetching episodes:",e),b("エピソードの読み込みに失敗しました。")}finally{h(!1)}})()},[]);let g=e=>{c(e)};return u?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-white text-xl animate-pulse",children:"エピソードを読み込み中..."})}):p?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-white text-xl",children:p})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-5",children:[(0,r.jsxs)("header",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-8 mb-8 shadow-2xl text-center",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-5xl font-black mb-3 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:"\uD83C\uDF99️ VoiceCast"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg md:text-xl",children:"誰でも聴ける音声配信プラットフォーム"})]}),(0,r.jsx)(x,{onGenreChange:t=>{"all"===t.toLowerCase()?i(e):i(e.filter(e=>e.genre===t))}}),(0,r.jsx)(d,{episode:o}),(0,r.jsxs)("section",{className:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 md:p-10 shadow-2xl",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[(0,r.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-4 md:mb-0",children:"\uD83D\uDCFB 最新の配信"}),(0,r.jsxs)("div",{className:"text-gray-500 text-sm md:text-base",children:[a.length,"件の配信"]})]}),0===a.length?(0,r.jsx)("div",{className:"text-center py-16 text-gray-500",children:(0,r.jsx)("p",{className:"text-lg md:text-xl mb-4",children:"\uD83C\uDFA7 このジャンルのエピソードはありません"})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:a.map(e=>(0,r.jsx)(m,{episode:e,onPlay:g},e.id))})]})]})})}},9186:function(e,t,a){"use strict";a.d(t,{I8:function(){return d},db:function(){return o}});var r=a(5236),n=a(5735),l=a(9842),s=a(9854);let i=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyCI1Wy2T2ioqSPxOR2bWVswQn6Q57uLWl4",authDomain:"voicecast-firebase.firebaseapp.com",projectId:"voicecast-firebase",storageBucket:"voicecast-firebase.appspot.com",messagingSenderId:"772272144528",appId:"1:772272144528:web:5e363da48adfc8da309815"}),d=(0,n.v0)(i),o=(0,l.ad)(i);(0,s.cF)(i)}},function(e){e.O(0,[358,139,712,971,23,744],function(){return e(e.s=2355)}),_N_E=e.O()}]);