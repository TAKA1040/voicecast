# ドキュメント概要

## 1. プロジェクトの目的

VoiceCastは、配信者が管理画面から音声エピソードを登録し、ユーザーがWebブラウザから再生できるシンプルな音声配信プラットフォームです。

## 2. 技術構成と設計思想

本プロジェクトは、当初の静的HTML/CSS/JS構成から、メンテナンス性、拡張性、そして堅牢性を確保するために、**Next.js (App Router)** を中核としたモダンなWebアプリケーションとして再構築されました。

### 2.1. 主要技術スタック

- **フレームワーク**: Next.js (App Router)
- **言語**: TypeScript
- **認証・バックエンド**: Supabase (Auth, Database, Storage)
- **認証ライブラリ**: `@supabase/ssr`
- **スタイリング**: Tailwind CSS

### 2.2. 設計方針

- **サーバーコンポーネント中心**: ページの骨格やデータ取得は、原則としてサーバーコンポーネントが担当します。これにより、サーバーサイドで認証チェックやデータ取得を完結させ、セキュリティとパフォーマンスを向上させます。
- **クライアントコンポーネントの分離**: ユーザーのインタラクションが必要な部分（フォーム、ボタンなど）のみをクライアントコンポーネント (`'use client'`) として明確に分離します。
- **Infrastructure as Code (IaC)**: Supabaseのスキーマ変更やRLSポリシーは、可能な限り `supabase/migrations` 以下のSQLファイルで管理し、Supabase CLIを通じて適用します。これにより、環境の再現性と変更履歴の追跡を可能にします。
- **単一責任の原則**: 各コンポーネントやモジュールは、一つの機能にのみ責任を持つように設計します。（例: `components/login-form.tsx` はログインフォームのUIとロジックのみを担当）

## 3. ディレクトリ構造の概要

```
/
├─ app/              # Next.js App Routerのルート
│  ├─ admin/         # 【保護ルート】管理画面
│  ├─ login/         # ログインページ
│  └─ api/auth/      # 認証関連のAPIルート
│
├─ components/       # 再利用可能なReactコンポーネント
│
├─ lib/supabase/     # Supabaseクライアント生成のヘルパー
│
├─ supabase/         # Supabase CLIの管理ディレクトリ
│  └─ migrations/    # データベースのマイグレーションファイル
│
└─ docs/             # ★このドキュメント群
```
