# 運用ルール

このプロジェクトを継続的に、かつ安定して運用・保守するため、すべての関係者（Windsurf, Gemini CLI, ChatGPT, Claude, 人間のスタッフ）は以下のルールを厳格に遵守してください。

## 1. **最優先事項: `docs/` の確認**

- **作業着手前に、必ず `docs/` フォルダ内の関連ドキュメントに目を通してください。**
- 設計思想 (`OVERVIEW.md`) や各種設定 (`AUTH_SETUP.md` など) を理解せずに、安易にコードの変更に着手することを固く禁じます。
- `README.md` はあくまで簡易的な入り口であり、**`docs/` こそが正**です。

## 2. **変更履歴の記録**

- データベーススキーマ、RLSポリシー、認証フロー、Vercelのビルド設定など、プロジェクトの根幹に関わる重要な変更を行った場合は、必ず `docs/CHANGELOG.md` にその概要と日時、担当者を記録してください。

## 3. **AIエージェントへの指示**

- Gemini CLIなどのAIエージェントに作業を指示する際は、**「`docs/` フォルダを読んで、現在の設計を理解した上で作業するように」**と明確に指示してください。
- AIがドキュメントを無視して、古い知識や前提でコードを生成・修正しないように監督する責任は、指示者にあります。

## 4. **環境変数・機密情報の取り扱い**

- SupabaseのキーやGoogleのクライアントシークレットなどの機密情報を、**コード内にハードコードすることを固く禁じます。**
- ローカル開発では `.env.local` を、本番環境ではVercelの環境変数機能を使用してください。
- 機密情報をGitリポジトリにコミットすることは、いかなる理由があっても許可されません。

## 5. **ブランチ戦略（推奨）**

- 小さな修正であっても、いきなり `master` ブランチにプッシュするのではなく、`feature/` や `fix/` などのプレフィックスを付けたブランチを作成し、そこで作業を行うことを強く推奨します。
- 変更内容は、プルリクエスト（Pull Request）を通じてレビューされた後に `master` にマージされるのが理想的なフローです。
