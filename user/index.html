<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceCast - 音声配信プラットフォーム</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ヘッダー */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .header p {
            color: #666;
            font-size: 1.2rem;
        }

        /* フィルターセクション */
        .filter-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .filter-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .genre-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .genre-btn {
            padding: 12px 24px;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            background: white;
            color: #666;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .genre-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .genre-btn.active {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 20px rgba(255, 107, 107, 0.3);
        }

        /* メインプレイヤー */
        .main-player {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .featured-badge {
            display: inline-block;
            padding: 8px 20px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .main-artwork {
            width: 200px;
            height: 200px;
            border-radius: 25px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: white;
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.3);
        }

        .main-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #333;
        }

        .main-author {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }

        .main-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #888;
            font-size: 0.95rem;
        }

        .main-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .main-play-btn {
            width: 80px;
            height: 80px;
            border: none;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .main-play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.5);
        }

        .secondary-btn {
            width: 60px;
            height: 60px;
            border: 2px solid #e1e5e9;
            border-radius: 50%;
            background: white;
            color: #666;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .secondary-btn:hover {
            border-color: #ff6b6b;
            color: #ff6b6b;
            transform: scale(1.05);
        }

        .main-progress {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            height: 8px;
            background: rgba(225, 229, 233, 0.5);
            border-radius: 4px;
            position: relative;
            cursor: pointer;
        }

        .main-progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            border-radius: 4px;
            width: 42%;
            transition: width 0.3s ease;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            max-width: 500px;
            margin: 10px auto 0;
            font-size: 0.9rem;
            color: #888;
        }

        /* エピソード一覧 */
        .episodes-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #333;
        }

        .episode-count {
            color: #888;
            font-size: 1rem;
        }

        .episodes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .episode-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .episode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .episode-card.playing {
            border-color: #ff6b6b;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.05), rgba(78, 205, 196, 0.05));
        }

        .episode-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .episode-artwork {
            width: 70px;
            height: 70px;
            border-radius: 15px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .episode-info {
            flex: 1;
        }

        .episode-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
            line-height: 1.4;
        }

        .episode-author {
            color: #666;
            font-size: 0.95rem;
        }

        .episode-meta {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .episode-date {
            color: #888;
            font-size: 0.9rem;
        }

        .episode-duration {
            color: #ff6b6b;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .episode-genre {
            background: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .episode-description {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .episode-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .play-btn-small {
            width: 45px;
            height: 45px;
            border: none;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .play-btn-small:hover {
            transform: scale(1.1);
        }

        .episode-stats {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
            color: #888;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header {
                padding: 25px 20px;
                margin-bottom: 20px;
            }

            .header h1 {
                font-size: 2.5rem;
            }

            .header p {
                font-size: 1rem;
            }

            .filter-section {
                padding: 20px;
                margin-bottom: 20px;
            }

            .genre-filters {
                justify-content: center;
                gap: 8px;
            }

            .genre-btn {
                padding: 10px 16px;
                font-size: 0.85rem;
            }

            .main-player {
                padding: 30px 20px;
                margin-bottom: 25px;
            }

            .main-artwork {
                width: 160px;
                height: 160px;
                font-size: 3.5rem;
                margin-bottom: 25px;
            }

            .main-title {
                font-size: 1.6rem;
                margin-bottom: 8px;
            }

            .main-author {
                font-size: 1rem;
                margin-bottom: 15px;
            }

            .main-meta {
                gap: 15px;
                margin-bottom: 25px;
            }

            .meta-item {
                font-size: 0.85rem;
            }

            .main-controls {
                gap: 15px;
                margin-bottom: 20px;
            }

            .main-play-btn {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }

            .secondary-btn {
                width: 55px;
                height: 55px;
                font-size: 1.2rem;
            }

            .episodes-section {
                padding: 25px 20px;
            }

            .section-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
                margin-bottom: 20px;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .episodes-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .episode-card {
                padding: 20px;
            }

            .episode-title {
                font-size: 1.1rem;
                line-height: 1.3;
            }

            .episode-meta {
                gap: 10px;
                margin-bottom: 12px;
            }

            .episode-description {
                font-size: 0.9rem;
                margin-bottom: 12px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .header {
                padding: 20px 15px;
                border-radius: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header p {
                font-size: 0.95rem;
            }

            .filter-section {
                padding: 15px;
                border-radius: 15px;
            }

            .filter-title {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }

            .genre-filters {
                gap: 6px;
            }

            .genre-btn {
                padding: 8px 12px;
                font-size: 0.8rem;
                border-radius: 20px;
            }

            .genre-btn span {
                font-size: 0.9rem;
            }

            .main-player {
                padding: 20px 15px;
                border-radius: 20px;
            }

            .featured-badge {
                padding: 6px 16px;
                font-size: 0.8rem;
                margin-bottom: 15px;
            }

            .main-artwork {
                width: 140px;
                height: 140px;
                font-size: 3rem;
                margin-bottom: 20px;
                border-radius: 20px;
            }

            .main-title {
                font-size: 1.4rem;
                line-height: 1.3;
                margin-bottom: 8px;
            }

            .main-author {
                font-size: 0.95rem;
                margin-bottom: 15px;
            }

            .main-meta {
                flex-direction: column;
                gap: 8px;
                margin-bottom: 20px;
                align-items: center;
            }

            .meta-item {
                font-size: 0.8rem;
            }

            .main-controls {
                gap: 12px;
                margin-bottom: 18px;
            }

            .main-play-btn {
                width: 65px;
                height: 65px;
                font-size: 1.6rem;
            }

            .secondary-btn {
                width: 50px;
                height: 50px;
                font-size: 1.1rem;
            }

            .main-progress {
                height: 6px;
                margin: 12px 0;
            }

            .time-display {
                font-size: 0.8rem;
                margin-top: 8px;
            }

            .episodes-section {
                padding: 20px 15px;
                border-radius: 20px;
            }

            .section-title {
                font-size: 1.3rem;
            }

            .episodes-grid {
                gap: 15px;
            }

            .episode-card {
                padding: 15px;
                border-radius: 15px;
            }

            .episode-header {
                gap: 12px;
                margin-bottom: 12px;
            }

            .episode-artwork {
                width: 60px;
                height: 60px;
                font-size: 1.3rem;
                border-radius: 12px;
            }

            .episode-title {
                font-size: 1rem;
                line-height: 1.3;
            }

            .episode-author {
                font-size: 0.85rem;
            }

            .episode-meta {
                flex-wrap: wrap;
                gap: 8px;
                margin-bottom: 10px;
            }

            .episode-date,
            .episode-duration {
                font-size: 0.8rem;
            }

            .episode-genre {
                font-size: 0.75rem;
                padding: 3px 10px;
            }

            .episode-description {
                font-size: 0.85rem;
                line-height: 1.4;
                margin-bottom: 10px;
                -webkit-line-clamp: 3;
            }

            .episode-actions {
                align-items: center;
            }

            .play-btn-small {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }

            .episode-stats {
                gap: 12px;
                font-size: 0.8rem;
            }
        }

        /* 極小画面対応 (320px以下) */
        @media (max-width: 320px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .main-title {
                font-size: 1.2rem;
            }

            .main-meta {
                gap: 6px;
            }

            .meta-item {
                font-size: 0.75rem;
            }

            .genre-btn {
                padding: 6px 10px;
                font-size: 0.75rem;
            }

            .episode-title {
                font-size: 0.95rem;
            }

            .episode-description {
                -webkit-line-clamp: 2;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ヘッダー -->
        <div class="header">
            <h1>🎙️ VoiceCast</h1>
            <p>誰でも聴ける音声配信プラットフォーム</p>
        </div>

        <!-- ジャンルフィルター -->
        <div class="filter-section">
            <div class="filter-title">🎯 ジャンルから探す</div>
            <div class="genre-filters">
                <div class="genre-btn active" data-genre="all">
                    <span>🌟</span> すべて
                </div>
                <div class="genre-btn" data-genre="tech">
                    <span>💻</span> テクノロジー
                </div>
                <div class="genre-btn" data-genre="business">
                    <span>💼</span> ビジネス
                </div>
                <div class="genre-btn" data-genre="lifestyle">
                    <span>🌱</span> ライフスタイル
                </div>
                <div class="genre-btn" data-genre="entertainment">
                    <span>🎭</span> エンタメ
                </div>
                <div class="genre-btn" data-genre="education">
                    <span>📚</span> 教育
                </div>
                <div class="genre-btn" data-genre="news">
                    <span>📰</span> ニュース
                </div>
                <div class="genre-btn" data-genre="health">
                    <span>💪</span> 健康
                </div>
            </div>
        </div>

        <!-- メインプレイヤー -->
        <div class="main-player">
            <div class="featured-badge">✨ 注目の配信</div>
            <div class="main-artwork">🎵</div>
            <h2 class="main-title">2025年のデジタルマーケティング戦略</h2>
            <div class="main-author">by マーケティング研究所</div>
            <div class="main-meta">
                <div class="meta-item">
                    <span>📅</span> 2025年7月20日
                </div>
                <div class="meta-item">
                    <span>⏱️</span> 28分30秒
                </div>
                <div class="meta-item">
                    <span>👥</span> 1,234 再生
                </div>
                <div class="meta-item">
                    <span>🏷️</span> ビジネス
                </div>
            </div>
            <div class="main-controls">
                <button class="secondary-btn" onclick="previousEpisode()">⏮</button>
                <button class="main-play-btn" onclick="toggleMainPlay()" id="mainPlayBtn">▶</button>
                <button class="secondary-btn" onclick="nextEpisode()">⏭</button>
            </div>
            <div class="main-progress" onclick="seekMainTrack(event)">
                <div class="main-progress-fill" id="mainProgressFill"></div>
            </div>
            <div class="time-display">
                <span>12:15</span>
                <span>28:30</span>
            </div>
        </div>

        <!-- エピソード一覧 -->
        <div class="episodes-section">
            <div class="section-header">
                <h2 class="section-title">📻 最新の配信</h2>
                <div class="episode-count" id="episodeCount">24件の配信</div>
            </div>
            <div class="episodes-grid" id="episodesGrid">
                <!-- エピソードはJavaScriptで動的に生成 -->
            </div>
        </div>
    </div>

    <script>
        // エピソードデータ取得
        async function loadEpisodes() {
          const episodes = await fetchEpisodes();
          if (episodes.length > 0) {
            renderEpisodes(episodes);
          } else {
            console.log('表示するエピソードがありません');
          }
        }

        // エピソードデータ取得
        async function fetchEpisodes() {
          // Supabaseからエピソードデータを取得する処理を実装する
          // ここではサンプルデータを返す
          return [
            {
              id: 1,
              title: "2025年のデジタルマーケティング戦略",
              author: "マーケティング研究所",
              duration: "28:30",
              genre: "business",
              date: new Date("2025-07-20"),
              plays: 1234,
              likes: 89,
              description: "デジタル時代に必要なマーケティング戦略について詳しく解説します。SNS活用からAI導入まで幅広くカバー。",
              playing: true,
              featured: true
            },
            {
              id: 2,
              title: "AI時代のプログラミング学習法",
              author: "コードアカデミー",
              duration: "35:45",
              genre: "tech",
              date: new Date("2025-07-19"),
              plays: 892,
              likes: 67,
              description: "AIが普及する時代に、プログラマーはどのようにスキルを磨くべきか？実践的なアドバイスをお届け。",
              playing: false,
              featured: false
            },
            {
              id: 3,
              title: "心を整える朝のルーティン",
              author: "ウェルネス研究家",
              duration: "22:15",
              genre: "lifestyle",
              date: new Date("2025-07-19"),
              plays: 756,
              likes: 124,
              description: "忙しい毎日でも実践できる、シンプルで効果的な朝のルーティンをご紹介。マインドフルネスから始める一日。",
              playing: false,
              featured: false
            },
            {
              id: 4,
              title: "2025年夏アニメ徹底レビュー",
              author: "アニメ評論家",
              duration: "42:10",
              genre: "entertainment",
              date: new Date("2025-07-18"),
              plays: 1456,
              likes: 203,
              description: "今期注目のアニメ作品を徹底解説。隠れた名作から話題作まで、アニメファン必聴の内容です。",
              playing: false,
              featured: false
            },
            {
              id: 5,
              title: "投資初心者のための基礎講座",
              author: "ファイナンシャルアドバイザー",
              duration: "31:20",
              genre: "business",
              date: new Date("2025-07-17"),
              plays: 634,
              likes: 78,
              description: "資産運用の基本から実践的なテクニックまで。投資を始めたい方向けの分かりやすい解説。",
              playing: false,
              featured: false
            },
            {
              id: 6,
              title: "最新科学ニュース解説",
              author: "サイエンスジャーナリスト",
              duration: "26:45",
              genre: "education",
              date: new Date("2025-07-16"),
              plays: 445,
              likes: 52,
              description: "今週の科学界で話題になった研究成果や発見について、専門家が分かりやすく解説します。",
              playing: false,
              featured: false
            }
          ];
        }

        let currentEpisodes = [];
        let currentGenre = 'all';
        let isMainPlaying = false;

        // エピソード一覧を描画
        function renderEpisodes(episodes) {
            const episodesGrid = document.getElementById('episodesGrid');
            const episodeCount = document.getElementById('episodeCount');
            
            episodesGrid.innerHTML = '';
            episodeCount.textContent = `${episodes.length}件の配信`;

            episodes.forEach(episode => {
                const episodeCard = document.createElement('div');
                episodeCard.className = `episode-card ${episode.playing ? 'playing' : ''}`;
                
                const genreEmoji = {
                    'tech': '💻',
                    'business': '💼',
                    'lifestyle': '🌱',
                    'entertainment': '🎭',
                    'education': '📚',
                    'news': '📰',
                    'health': '💪'
                };

                const genreName = {
                    'tech': 'テクノロジー',
                    'business': 'ビジネス',
                    'lifestyle': 'ライフスタイル',
                    'entertainment': 'エンタメ',
                    'education': '教育',
                    'news': 'ニュース',
                    'health': '健康'
                };

                const timeAgo = getTimeAgo(episode.date);

                episodeCard.innerHTML = `
                    <div class="episode-header">
                        <div class="episode-artwork">${genreEmoji[episode.genre] || '🎧'}</div>
                        <div class="episode-info">
                            <div class="episode-title">${episode.title}</div>
                            <div class="episode-author">${episode.author}</div>
                        </div>
                    </div>
                    <div class="episode-meta">
                        <div class="episode-date">${timeAgo}</div>
                        <div class="episode-duration">⏱️ ${episode.duration}</div>
                        <div class="episode-genre">${genreName[episode.genre]}</div>
                    </div>
                    <div class="episode-description">${episode.description}</div>
                    <div class="episode-actions">
                        <button class="play-btn-small" onclick="playEpisode(${episode.id})">${episode.playing ? '⏸' : '▶'}</button>
                        <div class="episode-stats">
                            <div class="stat">
                                <span>👥</span> ${episode.plays.toLocaleString()}
                            </div>
                            <div class="stat">
                                <span>❤️</span> ${episode.likes}
                            </div>
                        </div>
                    </div>
                `;

                episodeCard.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('play-btn-small')) {
                        playEpisode(episode.id);
                    }
                });

                episodesGrid.appendChild(episodeCard);
            });
        }

        // 時間経過を表示
        function getTimeAgo(date) {
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 0) return '今日';
            if (diffDays === 1) return '昨日';
            if (diffDays < 7) return `${diffDays}日前`;
            if (diffDays < 30) return `${Math.floor(diffDays / 7)}週間前`;
            return `${Math.floor(diffDays / 30)}ヶ月前`;
        }

        // ジャンルフィルター
        function filterByGenre(genre) {
            currentGenre = genre;
            
            // ボタンの状態を更新
            document.querySelectorAll('.genre-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-genre="${genre}"]`).classList.add('active');

            // エピソードをフィルター
            if (genre === 'all') {
                currentEpisodes = episodes;
            } else {
                currentEpisodes = episodes.filter(ep => ep.genre === genre);
            }

            renderEpisodes(currentEpisodes);
        }

        // エピソード再生
        function playEpisode(episodeId) {
            // すべてのエピソードの再生状態をリセット
            episodes.forEach(ep => ep.playing = false);
            
            // 選択されたエピソードを再生状態に
            const episode = episodes.find(ep => ep.id === episodeId);
            episode.playing = true;

            // メインプレイヤーを更新
            updateMainPlayer(episode);
            
            // エピソード一覧を再描画
            renderEpisodes(episodes);
        }

        // メインプレイヤー更新
        function updateMainPlayer(episode) {
            const genreNames = {
                'tech': 'テクノロジー',
                'business': 'ビジネス',
                'lifestyle': 'ライフスタイル',
                'entertainment': 'エンタメ',
                'education': '教育',
                'news': 'ニュース',
                'health': '健康'
            };

            document.querySelector('.main-title').textContent = episode.title;
            document.querySelector('.main-author').textContent = `by ${episode.author}`;
            
            const metaItems = document.querySelectorAll('.meta-item');
            metaItems[0].innerHTML = `<span>📅</span> ${episode.date.toLocaleDateString('ja-JP')}`;
            metaItems[1].innerHTML = `<span>⏱️</span> ${episode.duration}`;
            metaItems[2].innerHTML = `<span>👥</span> ${episode.plays.toLocaleString()} 再生`;
            metaItems[3].innerHTML = `<span>🏷️</span> ${genreNames[episode.genre]}`;

            const mainPlayBtn = document.getElementById('mainPlayBtn');
            mainPlayBtn.textContent = '⏸';
            isMainPlaying = true;
        }

        // メインプレイヤーコントロール
        function toggleMainPlay() {
            isMainPlaying = !isMainPlaying;
            const mainPlayBtn = document.getElementById('mainPlayBtn');
            mainPlayBtn.textContent = isMainPlaying ? '⏸' : '▶';
        }

        function previousEpisode() {
            console.log('前のエピソード');
        }

        function nextEpisode() {
            console.log('次のエピソード');
        }

        function seekMainTrack(event) {
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const percentage = (clickX / rect.width) * 100;
            
            const progressFill = document.getElementById('mainProgressFill');
            progressFill.style.width = percentage + '%';
        }

        // イベントリスナー
        document.querySelectorAll('.genre-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const genre = btn.getAttribute('data-genre');
                filterByGenre(genre);
            });
        });

        // 初期化
        loadEpisodes();

        // プログレスバーのアニメーション
        setInterval(() => {
            if (isMainPlaying) {
                const progressFill = document.getElementById('mainProgressFill');
                let currentWidth = parseFloat(progressFill.style.width) || 42;
                if (currentWidth < 100) {
                    progressFill.style.width = (currentWidth + 0.1) + '%';
                }
            }
        }, 1000);
    </script>
</body>
</html>